name: Deploy do Host - Sempre no Push

on:
  push:
    branches:
      - main # Dispara o deploy quando h√° push na branch principal

jobs:
  # Job de Deploy para o M√≥dulo HOST
  host_de_implanta√ß√£o:
    # ‚ö†Ô∏è A condi√ß√£o de filtro seletivo foi REMOVIDA.
    # Este job ser√° executado em TODO push na branch 'main'.
    runs-on: ubuntu-latest
    environment: production_host # ‚ö†Ô∏è Mantenha o ambiente para seguran√ßa

    steps:
      - name: Checkout do C√≥digo
        uses: actions/checkout@v4
        
      - name: ‚öôÔ∏è Configurar Node.js e Depend√™ncias
        uses: actions/setup-node@v4
        with:
          node-version: '20'

      - name: ‚¨áÔ∏è Instalar Depend√™ncias e Fazer Build do Host
        # VERIFIQUE E AJUSTE ESTES COMANDOS PARA SEU MONOREPO
        run: |
          npm install
          # Exemplo: npm run build:host (seu script de build)
          npm run build:host
        
      - name: üöÄ Passo de Implanta√ß√£o Real do Host (SEU C√ìDIGO AQUI)
        # SUBSTITUA ESTE ECHO pelo seu comando real de deploy (Vercel, AWS, etc.)
        run: |
          echo "Iniciando deploy do Host App..."
          # Ex: vercel deploy --prebuilt --prod
          echo "Deploy do Host App conclu√≠do!"

  # O Job 'implantar_reserva' foi removido desta vers√£o simplificada.
  # Se voc√™ precisar dele, use a mesma estrutura sem a condi√ß√£o 'if'.
